1. 보안 관련 단어
	(1)접근 주체(Principal) : 보호된 대상에 접근하는 유저
	
	(2)인증(Authentication) : *현재 사용자가 누구인지 확인하는 과정으로 
							  일반적인 웹 애플리케이션은 아이디/비밀번호를 이용한 로그인 과정을 통해 인증을 처리합니다.
							 *애플리케이션의 작업을 수행할 수 있는 주체임을 증명합니다.
	
	(3)인가(Authorization) : 현재 유저가 어떤 서비스, 페이지에 접근할 수 있는 권한이 있는지 검사합니다.
	
2. 스프링 시큐리티
	(1) Spring Security는 엔터프라이즈 애플리케잉션에 대한 인증, 권한 부여 및 기타 보안 기능을 제공하는 
		Java / Java EE 프레임 워크입니다.
		
	(2) 스프링 시큐리티에서 우리가 사용하던 아이디는 username으로 사용합니다.
	
3. 회원가입을 위해 자료 입력 후 회원가입 버튼을 클릭하면 403 오류가 발생합니다.
	
4. 스프링 시큐리티 처리 시 post 방식으로 접근하고자 하면 csrf 토큰을 요구하기 때문입니다.

	(1) 시큐리티의 기본 설정은 csrf 토큰 생성 활성화입니다.
	
	(2) 이것을 사용하지 않으려면 다음과 같이 작성하면 됩니다.
	
		http.csrf((csrf) -> csrf.disable());
	
	(3) CSRF 공격(Cross Site Request forgery : 사이트 간 요청 위조)
				웹 어플리케이션 취약점 중 하나로 인터넷 사용자(희생자)가 자신의 의지와는 
				무관하게 공격자가 의도한 행위(수정, 삭제, 등록 등)를 특정 웹 사이트에 요청하게 만드는 공격입니다.
				서버에서 받아들이는 정보가 특별히 사전 조건을 검증하지 않는다는 단점을 이용한 공격 방식입니다.
		
		CSRF 공격이 이뤄지려면 다음 조건이 만족되어야 합니다.	
		① 위조 요청을 전송하는 사이트에 피해자가 로그인 상태이고	
		② 피해자는 공격자가 만든 피싱 사이트에 접속합니다.
			(공격자가 만든 게시물을 클릭하면서 자신도 모르게 공격자가 의도한 행위를 요청합니다.)
			=> 조회성(HTTP GET Method) 데이터에는 방어 대상에 두지 않고, 
				쓰기/변경이 가능한 POST Method에만 적용하면 됩니다.
				
			   예) 피해자 A씨는 옥션에 로그인 상태입니다.
			   	  피해자 A씨는 피싱 사이트에 접속합니다.
			   	  이곳은 A씨가 자주 방문하는 곳으로 게시판의 글을 클릭합니다.
			   	  
	(4) CSRF 토큰은 임의로 변하는 특정한 토큰값을 서버에서 체크하는 방식입니다.
		① 서버에는 브라우저에 데이터를 전송할 때 CSRF 토큰을 같이 전송합니다.
		② 사용자가 POST방식으로 작업할 때 브라우저에서 전송된 CSRF 토큰의 값과 서버가 보관하고 있는 토큰의 값을 비교합니다.
		  만일 일치하지 않으면 403 오류 발생합니다.
		
		
5. post 방식의 모든 폼 안에 추가합니다.	
	<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}">	
		
6. 스프링 시큐리티에서 로그인 처리 방식

(1) 사용자가 로그인 페이지로 이동하고, 사용자 이름과 비밀번호를 입력하여 로그인을 시도합니다.

(2) 로그인 폼에서 제출된 사용자 이름과 비밀번호는 스프링 시큐리티가 제공하는 인증 필터에 의해 아래의 작업을 합니다.

(3) 스프링 시큐리티는 사용자 이름을 사용하여 사용자의 상세 정보를 가져오기 위해 UserDetailsService를 호출합니다.
	이때, UserDetailsService는 사용자의 상세 정보(사용자 이름, 비밀번호, 권한 등)를 반환합니다.

(4) 스프링 시큐리티는 반환된 사용자 상세 정보와 로그인 폼에서 제출된 비밀번호를 비교하여 인증을 수행합니다.

(5) 만약 사용자 이름과 비밀번호가 일치한다면, 인증은 성공하고 사용자에게 적절한 권한을 부여합니다.
	이때, 스프링 시큐리티는 사용자의 인증 상태를 세션에 유지합니다.
	
(6) 만약 사용자 이름과 비밀번호가 일치하지 않거나 사용자가 존재하지 않는 경우, 인증은 실패하고 적절한 오류 메시지가 표시됩니다.

(7) 인증이 성공하면 스프링 시큐리티는 사용자를 원래 요청한 페이지로 리다이렉트합니다.






